/* ==========================================
   App.css - メインスタイル
   ========================================== */

.App {
  min-height: 100vh;
  padding: var(--space-lg);
  animation: fadeIn 0.5s ease;
}

@media (max-width: 768px) {
  .App {
    padding: var(--space-sm);
  }
}

/* === コンテナ === */
.container {
  max-width: 900px;
  margin: 0 auto;
  background: var(--light-secondary);
  border-radius: var(--radius-2xl);
  padding: var(--space-xl);
  box-shadow: var(--shadow-xl);
  animation: scaleUp 0.4s ease;
}

@media (max-width: 768px) {
  .container {
    padding: var(--space-lg);
    border-radius: var(--radius-lg);
  }
}

/* === 見出し === */
h1 {
  text-align: center;
  color: var(--dark-primary);
  margin-bottom: var(--space-xl);
  font-size: var(--text-4xl);
  font-weight: 800;
  animation: slideInLeft 0.5s ease;
}

h2 {
  color: var(--dark-secondary);
  margin-bottom: var(--space-lg);
  font-size: var(--text-2xl);
  font-weight: 700;
  animation: slideInRight 0.5s ease;
}

h3 {
  color: var(--gray-700);
  margin: var(--space-md) 0 var(--space-sm) 0;
  font-size: var(--text-xl);
  font-weight: 600;
}

@media (max-width: 768px) {
  h1 {
    font-size: var(--text-3xl);
    margin-bottom: var(--space-lg);
  }
  
  h2 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-md);
  }
  
  h3 {
    font-size: var(--text-lg);
  }
}

/* === タイマー表示 === */
.timer-display {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-md);
  padding: var(--space-lg);
  margin: var(--space-lg) 0;
  border-radius: var(--radius-xl);
  font-size: var(--text-3xl);
  font-weight: 800;
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
  animation: scaleUp 0.5s ease;
}

.timer-green {
  background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%);
  color: white;
}

.timer-yellow {
  background: linear-gradient(135deg, #ff9800 0%, #ffc107 100%);
  color: white;
  animation: pulse 1.5s infinite;
}

.timer-red {
  background: linear-gradient(135deg, #f44336 0%, #e91e63 100%);
  color: white;
  animation: pulse 1s infinite;
}

.timer-icon {
  font-size: var(--text-4xl);
}

.timer-text {
  font-family: 'Courier New', monospace;
  letter-spacing: 2px;
}

@media (max-width: 768px) {
  .timer-display {
    padding: var(--space-md);
    font-size: var(--text-2xl);
  }
  
  .timer-icon {
    font-size: var(--text-3xl);
  }
}

/* === 役職チップ === */
.roles-list-box {
  background: var(--gray-50);
  padding: var(--space-lg);
  border-radius: var(--radius-lg);
  margin: var(--space-lg) 0;
  border: 2px solid var(--gray-200);
}

.roles-list-box strong {
  display: block;
  margin-bottom: var(--space-md);
  color: var(--dark-primary);
  font-size: var(--text-lg);
}

.roles-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
}

.role-chip {
  width: auto;
  padding: var(--space-sm) var(--space-md);
  margin: 0;
  background: linear-gradient(135deg, var(--accent) 0%, var(--dark-primary) 100%);
  color: var(--light-secondary);
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-sm);
  min-height: auto;
}

.role-chip:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: var(--shadow-md);
}

@media (max-width: 768px) {
  .roles-list-box {
    padding: var(--space-md);
  }
  
  .role-chip {
    font-size: var(--text-xs);
    padding: var(--space-xs) var(--space-sm);
  }
}

/* === フォーム要素 === */
input,
select {
  width: 100%;
  padding: var(--space-md);
  margin: var(--space-sm) 0;
  border: 2px solid var(--gray-300);
  border-radius: var(--radius-md);
  font-size: var(--text-base);
  font-family: inherit;
  transition: all var(--transition-base);
  background: var(--light-secondary);
}

input:focus,
select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.1);
}

@media (max-width: 768px) {
  input,
  select {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--text-sm);
    min-height: 44px; /* タッチフレンドリー */
  }
}

/* === ボタン === */
button {
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  margin: var(--space-sm) 0;
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--text-base);
  font-family: inherit;
  font-weight: 700;
  cursor: pointer;
  transition: all var(--transition-base);
  background: linear-gradient(135deg, var(--accent) 0%, var(--dark-primary) 100%);
  color: var(--light-secondary);
  box-shadow: var(--shadow-md);
  min-height: 44px; /* タッチフレンドリー */
}

button:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

button:active:not(:disabled) {
  transform: translateY(0);
}

button:disabled {
  background: var(--gray-400);
  cursor: not-allowed;
  transform: none;
  opacity: 0.6;
}

button.secondary {
  background: var(--gray-600);
}

button.secondary:hover:not(:disabled) {
  background: var(--gray-700);
}

button.danger {
  background: var(--error);
}

button.danger:hover:not(:disabled) {
  background: #d32f2f;
}

button.success {
  background: var(--success);
}

button.success:hover:not(:disabled) {
  background: #388e3c;
}

@media (max-width: 768px) {
  button {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--text-sm);
  }
}

/* === プレイヤーリスト === */
.player-list {
  background: var(--gray-50);
  padding: var(--space-lg);
  border-radius: var(--radius-lg);
  margin: var(--space-lg) 0;
  animation: fadeIn 0.5s ease;
}

.player-item {
  background: var(--light-secondary);
  padding: var(--space-md);
  margin: var(--space-sm) 0;
  border-radius: var(--radius-md);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-base);
  animation: slideInLeft 0.3s ease;
  animation-fill-mode: both;
}

.player-item:nth-child(1) { animation-delay: 0.1s; }
.player-item:nth-child(2) { animation-delay: 0.15s; }
.player-item:nth-child(3) { animation-delay: 0.2s; }
.player-item:nth-child(4) { animation-delay: 0.25s; }
.player-item:nth-child(5) { animation-delay: 0.3s; }
.player-item:nth-child(6) { animation-delay: 0.35s; }
.player-item:nth-child(7) { animation-delay: 0.4s; }
.player-item:nth-child(8) { animation-delay: 0.45s; }

.player-item:hover {
  transform: translateX(5px);
  box-shadow: var(--shadow-md);
}

@media (max-width: 768px) {
  .player-list {
    padding: var(--space-md);
  }
  
  .player-item {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--text-sm);
  }
}

/* === 役職設定 === */
.role-config {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md);
  background: var(--gray-50);
  margin: var(--space-sm) 0;
  border-radius: var(--radius-md);
  transition: all var(--transition-base);
}

.role-config:hover {
  background: var(--gray-100);
  box-shadow: var(--shadow-sm);
}

.role-name {
  font-weight: 700;
  color: var(--dark-primary);
  font-size: var(--text-base);
}

.role-count {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.role-count button {
  width: 44px;
  height: 44px;
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xl);
}

.role-count span {
  min-width: 40px;
  text-align: center;
  font-weight: 700;
  font-size: var(--text-lg);
}

@media (max-width: 768px) {
  .role-config {
    padding: var(--space-sm) var(--space-md);
  }
  
  .role-name {
    font-size: var(--text-sm);
  }
  
  .role-count span {
    font-size: var(--text-base);
  }
}

/* === 役職カード === */
.card {
  padding: var(--space-2xl);
  border-radius: var(--radius-xl);
  text-align: center;
  margin: var(--space-lg) 0;
  font-size: var(--text-3xl);
  font-weight: 800;
  color: var(--light-secondary);
  box-shadow: var(--shadow-lg);
  animation: cardFlip 0.6s ease-in-out;
  cursor: pointer;
  transition: all var(--transition-base);
}

.card:hover {
  transform: scale(1.02);
  box-shadow: var(--shadow-xl);
}

/* 既存の役職 */
.card.werewolf {
  background: linear-gradient(135deg, #ff0844 0%, #8b0000 100%);
}

.card.villager {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.card.detective {
  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

.card.thief {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.card.police {
  background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
}

.card.madman {
  background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
  color: var(--dark-primary);
}

/* 新しい役職 */
.card.medium {
  background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%);
}

.card.fool {
  background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
  color: var(--dark-primary);
}

.card.gravekeeper {
  background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
}

.card.witch {
  background: linear-gradient(135deg, #c471f5 0%, #fa71cd 100%);
}

.card.hanged {
  background: linear-gradient(135deg, #fc6076 0%, #ff9a44 100%);
}

@media (max-width: 768px) {
  .card {
    padding: var(--space-xl);
    font-size: var(--text-2xl);
  }
}

/* === アクションボタン === */
.action-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
  margin: var(--space-lg) 0;
}

@media (max-width: 768px) {
  .action-buttons {
    grid-template-columns: 1fr;
    gap: var(--space-sm);
  }
}

/* === 情報ボックス === */
.info-box,
.warning-box,
.error-box,
.success-box {
  padding: var(--space-lg);
  border-radius: var(--radius-md);
  margin: var(--space-md) 0;
  border-left: 4px solid;
  animation: slideInRight 0.4s ease;
  line-height: 1.8;
}

.info-box {
  background: #e3f2fd;
  border-color: var(--info);
  color: var(--dark-primary);
}

.warning-box {
  background: #fff3e0;
  border-color: var(--warning);
  color: var(--dark-primary);
}

.error-box {
  background: #ffebee;
  border-color: var(--error);
  color: var(--dark-primary);
}

.success-box {
  background: #e8f5e9;
  border-color: var(--success);
  color: var(--dark-primary);
}

@media (max-width: 768px) {
  .info-box,
  .warning-box,
  .error-box,
  .success-box {
    padding: var(--space-md);
    font-size: var(--text-sm);
  }
}

/* === 投票グリッド === */
.vote-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-md);
  margin: var(--space-lg) 0;
}

.vote-grid button {
  margin: 0;
  opacity: 0.7;
  transition: all var(--transition-base);
}

.vote-grid button:hover:not(:disabled) {
  opacity: 1;
  transform: scale(1.05);
}

.vote-grid button.selected {
  opacity: 1;
  border: 3px solid #ffd700;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
  animation: pulse 1.5s infinite;
}

@media (max-width: 768px) {
  .vote-grid {
    grid-template-columns: 1fr;
    gap: var(--space-sm);
  }
}

/* === 結果テーブル === */
.result-table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-lg) 0;
  box-shadow: var(--shadow-md);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.result-table th,
.result-table td {
  padding: var(--space-md);
  text-align: left;
  border-bottom: 1px solid var(--gray-200);
}

.result-table th {
  background: var(--gray-100);
  font-weight: 700;
  color: var(--dark-primary);
}

.result-table tr {
  transition: background var(--transition-fast);
}

.result-table tbody tr:hover {
  background: var(--gray-50);
}

.winner {
  background: #c8e6c9 !important;
  font-weight: 700;
}

.loser {
  background: #ffcdd2 !important;
}

@media (max-width: 768px) {
  .result-table th,
  .result-table td {
    padding: var(--space-sm);
    font-size: var(--text-sm);
  }
}

/* === ターゲットグリッド === */
.target-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--space-md);
  margin: var(--space-lg) 0;
}

.target-grid button {
  margin: 0;
  opacity: 0.6;
  transition: all var(--transition-base);
}

.target-grid button:hover:not(:disabled) {
  opacity: 1;
  transform: translateY(-3px);
}

.target-grid button.selected {
  opacity: 1;
  border: 3px solid #ffd700;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
}

@media (max-width: 768px) {
  .target-grid {
    grid-template-columns: 1fr;
    gap: var(--space-sm);
  }
}

/* === 中央カード === */
.center-cards {
  display: flex;
  justify-content: center;
  gap: var(--space-lg);
  margin: var(--space-lg) 0;
  flex-wrap: wrap;
}

.center-cards .card {
  flex: 0 0 200px;
  animation: scaleUp 0.5s ease;
}

@media (max-width: 768px) {
  .center-cards {
    flex-direction: column;
    gap: var(--space-md);
  }
  
  .center-cards .card {
    flex: 1 1 100%;
  }
}

/* === 投票アニメーション === */
@keyframes voteCount {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.vote-count {
  animation: voteCount 0.5s ease;
}

/* === タイマー設定 === */
.timer-config {
  background: var(--gray-50);
  padding: var(--space-lg);
  border-radius: var(--radius-lg);
  margin: var(--space-lg) 0;
  border: 2px solid var(--accent);
}

.timer-config h3 {
  text-align: center;
  margin-bottom: var(--space-md);
  color: var(--dark-primary);
}

.timer-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-sm);
}

.timer-option-btn {
  width: 100%;
  padding: var(--space-md);
  margin: 0;
  background: var(--light-secondary);
  color: var(--dark-primary);
  border: 2px solid var(--gray-300);
  font-size: var(--text-base);
  font-weight: 600;
  transition: all var(--transition-base);
}

.timer-option-btn:hover:not(.selected) {
  background: var(--gray-100);
  border-color: var(--accent);
  transform: translateY(-2px);
}

.timer-option-btn.selected {
  background: linear-gradient(135deg, var(--accent) 0%, var(--dark-primary) 100%);
  color: var(--light-secondary);
  border-color: var(--accent);
  box-shadow: var(--shadow-md);
}

@media (max-width: 768px) {
  .timer-config {
    padding: var(--space-md);
  }

  .timer-options {
    grid-template-columns: repeat(2, 1fr);
  }

  .timer-option-btn {
    padding: var(--space-sm);
    font-size: var(--text-sm);
  }
}